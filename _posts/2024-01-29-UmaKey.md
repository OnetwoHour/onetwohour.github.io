---
layout: post
title: "UmaKey - 우마무스메 PC 클라이어언트 키보드 매핑하기"
date: 2024-01-29
excerpt: "우마무스메 PC 클라이언트를 키보드와 함께 사용해 보자"
tag: 
- 기타
comments: true
published: true
---

# [2024-01-29] UmaKey - 우마무스메 PC 클라이어언트 키보드 매핑하기

---

## 서론

우마무스메는 카카오게임에서 PC 클라이언트를 지원한다.

하지만 큰 단점이 존재하니... 키보드 매핑 지원을 안한다. 찾아보니 마땅한 프로그램도 잘 안보인다.

그래서 만들어 보기로 했다.

이름하야 **UmaKey**

---

## 특징

사실 키보드 매핑이라고 하지만, 정확히 말하면 키보드를 누르면 좌표가 아니라 색깔을 기반으로 클릭하는 것이 주요 기능이다.

왜 굳이 이러냐 하면, 알게 모르게 사용하고 있는 PC 개선판을 사용하면 게임창 비율이 달라져서 좌표가 이상해질 수도 있고, 무엇보다 좌표로 하려면 지정해야 하는 곳이 너무 많다.

하지만 우마무스메는 기본적으로 제한된 색깔의 UI를 가지고 있는 게임, 즉 색깔을 가지고 조작한다면 훨씬 적은 키로 더 많은 조작을 수행할 수 있다. 그것도 더 유연하게.

...라고는 하지만, 그냥 좌표 기반으로 하는 게 편한 사람도 있을 테니, 프로그램을 다음과 같이 설계했다.

1. [int, int, int]  : RGB값. 원하는 키에 RGB 리스트를 넣으면 색깔을 찾아줌.
2. (int, int)       : 좌표값. 원하는 키에 좌표 튜플을 넣으면 해당 지점을 클릭함. 단, 상대좌표임을 유의.
3. int              : 단순 키 변환. 가상 키코드를 입력한다. A키를 누를 때 B키를 대신 눌리게 하고 싶을 때 사용.
4. string           : 특수 기능. 위 기능들을 조합해서 매크로를 만들거나, 다른 기능을 추가할 수 있다.

오늘 기준 위 파일을 설정하려면 직접 코드를 수정해야 하지만, 추후에는 파일로 저장해서 코드 수정 없이 변경 가능하도록 할 예정이다.

---

## 주의사항

백신이 이거 지워버릴 수도 있는데, 코드는 공개되어 있으니 불안하면 확인하면 된다. **또한 반드시 관리자 권한으로 실행하자.** 어째서인지는 모르겠지만 PC 클라이언트에서 키보드 감지를 막아놨다. 이를 해결하려면 관리자 권한으로 실행해야 한다.

---

## 사용방법

현 시점으로 지원하는 것은 다음과 같다.

    'Space': [99,182,0],        # 초록버튼
    '`':     [231, 231, 236],   # 흰 버튼
    'Q':     [124, 203, 42],    # 휴식
    'W':     [41, 122, 207],    # 트레이닝
    'E':     [40, 191, 214],    # 스킬
    'R':     [247, 154, 8],     # 외출
    'F':     [145, 96, 239],    # 양호실
    'T':     [217, 81, 242],    # 레슨
    'G':     [244, 69, 137],    # 레이스
    'TAB':   'Drag',            # 훈련 돌아보기
    'A':    [225, 255, 178],    # 1번 선택지
    'S':    [255, 247, 192],    # 2번 선택지
    'D':    [255, 228, 239],    # 3번 선택지

코드를 실행해도 되지만, exe파일을 배포했으니 그걸 사용해도 좋다. 실행하면 부르봉 아이콘이 트레이에 생성되며, 해당 아이콘을 통해 실행, 중지, 종료를 조작할 수 있다.

위 기능들은 반드시 우마무스메 게임 창이 가장 위에 올라와 있어야만 실행되도록 설정되어있다. 즉, 다른 창에서는 일반적인 키보드 역할만 한다는 것이다. 그러나 오작동할 걱정 말자. 

혹시 좌표를 사용하고 싶은 사람들은... 내가 좀 더 일하기를 바라자. 아직 좌표를 얻을 툴을 안만들었다.

참고로, 1, 2, 3, 4, 5번 키는 클라이언트에서 기본적으로 지원하는 훈련 키다. 원한다면 프로그램을 통해 바꿀 수 있지만 굳이?

>사용방법은 업데이트하면서 바뀔 수 있으니, 다운로드 할 때 반드시 설명을 읽어보자. 블로그와 다를 수 있다.

혹시 클라이언트 변조로 정지먹는거 아닌가 하는 사람이 있을 수 있는데, 이 프로그램은 화면 캡쳐, 키보드, 마우스를 조작하는 프로그램이지 무언가를 수정하는 프로그램은 아니다. 게임을 수정하는 것은 전혀 없으니 걱정하지 말자.

[> Go Github](https://github.com/onetwohour/UmaKey){: .btn .btn-success} [> Download](https://github.com/onetwohour/UmaKey/releases/latest/download/Umakey.zip){: .btn .btn-info}
